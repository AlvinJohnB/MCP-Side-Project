<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Payment - BookingApp</title>
    <link rel="stylesheet" href="index.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
    />
  </head>
  <body class="bg-light">
    <!-- Navigation -->
    <section class="container-fluid p-2 visible">
      <nav class="navbar navbar-expand-lg navbar-modern shadow-sm px-3">
        <div class="container-fluid">
          <a class="navbar-brand fw-bold text-gradient" href="index.html">
            <i class="bi bi-globe2 me-2"></i>BookingApp
          </a>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#mainNavbar"
          >
            <span class="navbar-toggler-icon"></span>
          </button>

          <div class="collapse navbar-collapse" id="mainNavbar">
            <div
              class="ms-auto d-flex flex-column flex-lg-row align-items-start align-items-lg-center gap-2"
            >
              <a
                href="./cart.html"
                class="btn btn-nav rounded-pill position-relative"
              >
                <i class="bi bi-cart3 me-1"></i>Cart
                <span
                  id="cartCount"
                  class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger cart-count-badge"
                  >1</span
                >
              </a>
              <a href="./register.html" class="btn btn-nav rounded-pill">
                <i class="bi bi-person-plus me-1"></i>Register
              </a>
              <a href="./login.html" class="btn btn-nav rounded-pill">
                <i class="bi bi-box-arrow-in-right me-1"></i>Login
              </a>
              <span
                id="welcomeUser"
                class="fw-bold text-dark ms-lg-2 ms-0 mt-lg-0 mt-2"
              ></span>
            </div>
          </div>
        </div>
      </nav>
    </section>

    <!-- Header -->
    <div class="payment-header">
      <div class="container">
        <div class="row">
          <div class="col-12 text-center">
            <h1 class="display-4 fw-bold mb-3">Secure Payment</h1>
            <p class="lead">
              Your information is protected with 256-bit SSL encryption
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- Progress Steps -->
    <div class="container my-5">
      <div class="row">
        <div class="col-12">
          <div class="d-flex justify-content-center align-items-center mb-5">
            <div class="text-center me-4">
              <div class="progress-step completed">
                <i class="bi bi-cart3"></i>
              </div>
              <small class="d-block mt-2 text-muted">Cart</small>
            </div>
            <div
              class="border-top flex-grow-1 mx-3 payment-progress-line-active"
            ></div>
            <div class="text-center me-4">
              <div class="progress-step completed">
                <i class="bi bi-person"></i>
              </div>
              <small class="d-block mt-2 text-muted">Details</small>
            </div>
            <div
              class="border-top flex-grow-1 mx-3 payment-progress-line-completed"
            ></div>
            <div class="text-center">
              <div class="progress-step active">
                <i class="bi bi-credit-card"></i>
              </div>
              <small class="d-block mt-2 text-success fw-bold">Payment</small>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Main Content -->
    <div class="container mb-5" id="paymentContent">
      <div class="row">
        <!-- Payment Form -->
        <div class="col-lg-8">
          <div class="card card-modern mb-4 py-4 px-2">
            <div class="card-header bg-white border-0 rounded-top">
              <h4 class="mb-0 text-gradient">
                <i class="bi bi-credit-card me-2"></i>Payment Method
              </h4>
            </div>
            <div class="card-body">
              <!-- Payment Options -->
              <div class="row mb-4">
                <div class="col-md-4 mb-3">
                  <div
                    class="payment-method selected"
                    onclick="selectPaymentMethod('credit-card', this)"
                  >
                    <input
                      type="radio"
                      name="paymentMethod"
                      value="credit-card"
                      checked
                    />
                    <i class="bi bi-credit-card me-2"></i>
                    <strong>Credit Card</strong>
                  </div>
                </div>
                <div class="col-md-4 mb-3">
                  <div
                    class="payment-method"
                    onclick="selectPaymentMethod('paypal', this)"
                  >
                    <input type="radio" name="paymentMethod" value="paypal" />
                    <i class="bi bi-paypal me-2"></i>
                    <strong>PayPal</strong>
                  </div>
                </div>
                <div class="col-md-4 mb-3">
                  <div
                    class="payment-method"
                    onclick="selectPaymentMethod('digital-wallet', this)"
                  >
                    <input
                      type="radio"
                      name="paymentMethod"
                      value="digital-wallet"
                    />
                    <i class="bi bi-phone me-2"></i>
                    <strong>Digital Wallet</strong>
                  </div>
                </div>
              </div>
              <!-- Credit Card Form -->
              <div id="creditCardForm" class="credit-card-form">
                <form id="paymentForm">
                  <div class="row">
                    <div class="col-12 mb-3">
                      <label for="cardNumber" class="form-label"
                        >Card Number *</label
                      >
                      <div class="card-input position-relative">
                        <input
                          type="text"
                          class="form-control"
                          id="cardNumber"
                          placeholder="1234 5678 9012 3456"
                          maxlength="19"
                          required
                        />
                        <i class="bi bi-credit-card card-input-icon"></i>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-8 mb-3">
                      <label for="cardName" class="form-label"
                        >Cardholder Name *</label
                      >
                      <input
                        type="text"
                        class="form-control"
                        id="cardName"
                        placeholder="John Doe"
                        required
                      />
                    </div>
                    <div class="col-4 mb-3">
                      <label for="cardCVC" class="form-label">CVC *</label>
                      <div class="card-input position-relative">
                        <input
                          type="text"
                          class="form-control"
                          id="cardCVC"
                          placeholder="123"
                          maxlength="4"
                          required
                        />
                        <i class="bi bi-lock card-input-icon"></i>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-6 mb-3">
                      <label for="expMonth" class="form-label"
                        >Expiry Month *</label
                      >
                      <select class="form-control" id="expMonth" required>
                        <option value="">Month</option>
                        <option value="01">01 - January</option>
                        <option value="02">02 - February</option>
                        <option value="03">03 - March</option>
                        <option value="04">04 - April</option>
                        <option value="05">05 - May</option>
                        <option value="06">06 - June</option>
                        <option value="07">07 - July</option>
                        <option value="08">08 - August</option>
                        <option value="09">09 - September</option>
                        <option value="10">10 - October</option>
                        <option value="11">11 - November</option>
                        <option value="12">12 - December</option>
                      </select>
                    </div>
                    <div class="col-6 mb-3">
                      <label for="expYear" class="form-label"
                        >Expiry Year *</label
                      >
                      <select class="form-control" id="expYear" required>
                        <option value="">Year</option>
                        <option value="2025">2025</option>
                        <option value="2026">2026</option>
                        <option value="2027">2027</option>
                        <option value="2028">2028</option>
                        <option value="2029">2029</option>
                      </select>
                    </div>
                  </div>

                  <div class="form-check mb-3">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      id="agreeTerms"
                      required
                    />
                    <label class="form-check-label" for="agreeTerms">
                      I agree to the
                      <a href="#" class="text-decoration-none"
                        >Terms of Service</a
                      >
                      and
                      <a href="#" class="text-decoration-none"
                        >Privacy Policy</a
                      >
                      *
                    </label>
                  </div>
                </form>
              </div>

              <div class="security-features">
                <div class="row text-center">
                  <div class="col-md-4">
                    <i class="bi bi-shield-check fa-2x text-success mb-2"></i>
                    <small class="d-block">SSL Secured</small>
                  </div>
                  <div class="col-md-4">
                    <i class="bi bi-lock fa-2x text-success mb-2"></i>
                    <small class="d-block">256-bit Encryption</small>
                  </div>
                  <div class="col-md-4">
                    <i class="bi bi-check-circle fa-2x text-success mb-2"></i>
                    <small class="d-block">PCI Compliant</small>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Order Summary -->
        <div class="col-lg-4">
          <div class="payment-summary-card card">
            <div class="payment-summary-header card-header py-3">
              <h4 class="mb-0 text-white">
                <i class="bi bi-receipt me-2 text-white"></i>Order Summary
              </h4>
            </div>
            <div class="card-body order-summary">
              <div id="orderSummary">
                <!-- Static content matching cart -->
                <div
                  class="d-flex justify-content-between align-items-center mb-3"
                >
                  <div>
                    <h6 class="mb-0">Palawan - Nature's Last Frontier</h6>
                    <small class="text-muted">3 Days, 2 Nights</small>
                  </div>
                  <span class="fw-bold">₱15,500</span>
                </div>
                <hr />
                <div class="d-flex justify-content-between mb-2">
                  <span>Subtotal:</span>
                  <span>₱15,500</span>
                </div>
                <div class="d-flex justify-content-between mb-2">
                  <span>Service Fee:</span>
                  <span>₱500</span>
                </div>
                <div class="d-flex justify-content-between mb-2">
                  <span>Taxes:</span>
                  <span>₱0</span>
                </div>
                <hr />
                <div class="d-flex justify-content-between fw-bold fs-5">
                  <span>Total:</span>
                  <span class="total-price-success">₱16,000</span>
                </div>
              </div>

              <div class="d-grid gap-2 mt-4">
                <button
                  type="button"
                  class="btn btn-pay btn-success btn-lg"
                  onclick="processPayment()"
                >
                  <i class="bi bi-lock me-2"></i>Complete Payment
                </button>
                <a
                  href="checkout.html"
                  class="btn btn-outline-secondary rounded-pill"
                >
                  <i class="bi bi-arrow-left me-2"></i>Back to Details
                </a>
              </div>

              <div class="text-center mt-3">
                <div class="d-flex justify-content-center gap-2 mb-2">
                  <i class="bi bi-credit-card-2-front fa-2x text-primary"></i>
                  <i class="bi bi-credit-card-2-back fa-2x text-warning"></i>
                  <i class="bi bi-paypal fa-2x text-primary"></i>
                </div>
                <small class="text-muted">
                  <i class="bi bi-shield-check me-1"></i>
                  Your payment is secured and encrypted
                </small>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Payment Success Modal -->
    <div
      class="modal fade"
      id="paymentSuccessModal"
      tabindex="-1"
      aria-labelledby="paymentSuccessModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content payment-modal-content">
          <div class="modal-body text-center p-5">
            <div class="mb-4">
              <i class="bi bi-check-circle-fill payment-modal-icon"></i>
            </div>
            <h3 class="text-gradient mb-3">Payment Successful!</h3>
            <p class="text-muted mb-4">
              Your booking has been confirmed. Thank you for choosing
              BookingApp!
            </p>
            <div class="d-grid">
              <button
                type="button"
                class="btn btn-primary btn-lg rounded-pill"
                onclick="redirectToHome()"
              >
                <i class="bi bi-house-fill me-2"></i>Return to Home
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      function selectPaymentMethod(method, element) {
        // Remove selected class from all payment methods
        document.querySelectorAll(".payment-method").forEach((el) => {
          el.classList.remove("selected");
        });

        // Add selected class to clicked element
        element.classList.add("selected");

        // Update radio button
        element.querySelector('input[type="radio"]').checked = true;
      }

      function processPayment() {
        // Show the Bootstrap modal instead of alert
        const paymentModal = new bootstrap.Modal(
          document.getElementById("paymentSuccessModal")
        );
        paymentModal.show();
      }

      function redirectToHome() {
        window.location.href = "index.html";
      }

      // Format card number input
      document.addEventListener("DOMContentLoaded", function () {
        const cardInput = document.getElementById("cardNumber");
        if (cardInput) {
          cardInput.addEventListener("input", function (e) {
            let value = e.target.value
              .replace(/\s+/g, "")
              .replace(/[^0-9]/gi, "");
            let formattedValue = value.match(/.{1,4}/g)?.join(" ") || value;
            e.target.value = formattedValue;
          });
        }
      });
    </script>
  </body>
</html>
